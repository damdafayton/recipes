<section class='text-center'>
  <h2>SHOPPING LIST </h2><span><h4>for <%= @user.name %></h4></span>
  <div class='mx-2 d-flex justify-content-center flex-column'>
    <% @user.recipes.each do |recipe|%>
      <div class="mb-3">
        <h3 class="fs-4"><%= recipe.name %></h3>
        <div class="d-flex justify-content-center gap-5 mb-2">
          <div>
            <h4 class="fs-5">Required Foods</h4>
            <div class="row row-cols-3 gx-5">
              <span>Name</span>
              <span>Quantity</span>
              <span>Unit</span>
            </div>
            <% @required_foods_in_users_recipes[recipe.id].each do |food|%>
              <div class="row row-cols-3">
                <span class="text-start"><%= @required_foods_list[food[0]].name %></span>
                <span><%= @required_foods_in_users_recipes[recipe.id][food[0]] %></span>
                <span><%= @required_foods_list[food[0]].measurement_unit %></span>
              </div>
            <% end %>
          </div>
          <div>
            <h4 class="fs-5">Foods in Inventory</h4>
            <div class="row row-cols-3 gx-5">
              <span>Quantity</span>
              <span>Unit</span>
              <span>Price</span>
            </div>
            <% @required_foods_in_users_recipes[recipe.id].each do |food|%>
              <div class="row row-cols-3">
                <span><%= @required_foods_in_users_inventory[food[0]] %></span>
                <span><%= @required_foods_list[food[0]].measurement_unit %></span>
                <span><%= @required_foods_list[food[0]].price %>$</span>
              </div>
            <% end %>
          </div>
        </div>
        <div>Total price of missing items: <%= @cost_of_missing_foods_in_recipes[recipe.id] %>$</div>
      </div>
    <% end %>
  </div>
</section>